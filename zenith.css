:root {	
    --page-width: 616px;
    --page-order: row-reverse; /* new pages show up to the right */
    /*--page-order: row; /* new pages show up to the left */
    
    --header-font: "Source Sans Pro", "Inter", sans-serif;	
    --body-font: "Source Sans Pro", "Inter", sans-serif;	
    	
    --bg-color: #EEEEEE;	
    --page-color: rgba(255, 255, 255, 0.95);	
    	
    --text-color: #000000;	
    --icon-color: #5c7080;
    --bullet-color: rgba(0, 0, 0, 0.2);	
    	
    --page-shadow: 0px 8px 14px rgba(0, 0, 0, 0.05);	
    	
    --color-primary: 73, 197, 91;	
    --color-primary-contrast: #FFFFFF;	
    --color-secondary: 147, 100, 235;

    --color-secondary-contrast: #FFFFFF;	
}

:root {
    --page-width: 616px;
    --page-order: row-reverse;
}


h1, h2, h3,  h4, h5, h6, h1 > a, h2 > a, h3 > a, h4 > a, .rm-title-textarea {
    font-family: var(--header-font) !important;
    color: var(--text-color) !important;
}

h1.level2, h1.level2 > a, h2.level2 > a {
    font-size: 26px !important;
    font-weight: bold !important;
    height: auto !important;
    line-height: 1.5 !important;
}
h1.rm-title-display, .rm-title-textarea {
    margin-left: 20px;
}

.bp3-button.bp3-minimal:hover {
    background: rgba(var(--color-primary), 0.4) !important;
    color: var(--text-color) !important;
}
.bp3-button.bp3-minimal::before, .bp3-button.bp3-minimal *, .bp3-button.bp3-minimal *::before {
    color: var(--icon-color) !important;
}
.bp3-button.bp3-minimal:hover::before, .bp3-button.bp3-minimal:hover *, .bp3-button.bp3-minimal:hover *::before {
    color: var(--text-color) !important;
}


div,
textarea, a {
    font-family: var(--body-font) !important;
    color: var(--text-color) !important;
}
.bp3-popover {
    color: var(--color-secondary-contrast) !important;
}

*[class*="bp3-icon"], *[class*="bp3-icon"]::before {
    color: var(--icon-color) !important;
}

.roam-highlight {
    background-color: rgba(var(--color-primary), 0.5);
}

.rm-block-ref {
    border-bottom: 2px solid rgba(var(--color-primary), 0.2)
}
.rm-block-ref:hover {
    background-color: rgba(var(--color-primary), 0.2);
}

.rm-alias-external, .rm-alias-external:hover {
    color: rgb(var(--color-secondary)) !important;
    font-weight: bold;
}

.rm-alias-block, .rm-alias-block:hover {
    color: rgb(var(--color-primary)) !important;
    font-weight: bold;
}

.rm-page-ref, .rm-alias-page, .rm-alias-page:hover {
    color: rgb(var(--color-primary)) !important;
    font-weight: bold;
}

.rm-page-ref-tag {
    color: var(--color-primary-contrast) !important;
    background-color: rgb(var(--color-primary));
    padding: 1px 6px;
    border-radius: 4px;
}

.block-highlight-blue {
    background-color: rgba(var(--color-primary), 0.2)
}

.starred-pages a {
    color: rgb(var(--color-primary)) !important;
}

.version-bullet {
    background-color: rgb(var(--color-primary)) !important;
    color: var(--color-primary-contrast) !important;
}

.roam-bullet-closed {
    background-color: var(--bullet-color) !important;
}
.simple-bullet-inner {
    background-color: var(--bullet-color) !important;
}

.rm-saving-icon .rm-synced {
    background-color: rgb(var(--color-primary));
}
.rm-saving-icon .rm-saving-remote {
    background-color: rgb(var(--color-secondary));
}

.rm-reference-item {
    background-color: transparent !important;
    border: none !important;
    padding: 0 !important;
    font-size: 13px !important;
}

.rm-ref-page-view-title a {
    color: #000000;
    font-weight: bold;
}

/* -------------------------- */
/*       POPOVER STYLES       */
/* -------------------------- */

.bp3-menu-divider {
    border-color: rgba(255, 255, 255, 0.25) !important;
}
.bp3-text-small {
    color: var(--text-color) !important;
    opacity: 0.6;
}


.bp3-transition-container {
    /* not very good at these z-indexes huh? */
    z-index: 9999999999 !important;
}
.bp3-popover {
    min-width: 230px; /* fix width */
    pointer-events: none; /* prevent from getting in the way of hover*/
}
.bp3-popover .bp3-menu, .bp3-popover .bp3-popover-content {
    pointer-events: auto;
    background-color: var(--page-color) !important;
}

.bp3-popover .bp3-button {
    background-color: var(--bg-color)
}

.bp3-popover .bp3-popover-arrow svg * {
    fill: var(--page-color);
}

#app .bp3-popover .bp3-popover-arrow svg * {
    fill: rgb(var(--color-secondary));
    fill: var(--page-color);
}

/* what a mess! */

/*.roam-body-main .bp3-popover .bp3-popover-content, .roam-body-main .bp3-menu,
.roam-sidebar-container .bp3-popover .bp3-popover-content, .roam-sidebar-container .bp3-menu {
    background-color: rgb(var(--color-secondary)) !important;
}
.roam-body-main .bp3-popover .bp3-popover-content, .roam-body-main .bp3-popover .bp3-popover-content *,
.roam-sidebar-container .bp3-popover .bp3-popover-content, .roam-sidebar-container .bp3-popover .bp3-popover-content * {
    color: var(--color-secondary-contrast) !important;
}*/


body > .bp3-portal .bp3-menu {
    background-color: var(--page-color) !important;
}
body > .bp3-portal .bp3-popover-content, body > .bp3-portal .bp3-popover-content * {
    color: var(--text-color) !important;
}

.bp3-popover .bp3-button, .bp3-popover .bp3-button * {
    color: var(--text-color) !important;
}


body > .bp3-portal *[style*="rgba(72, 176, 240, 0.5)"] {
    background-color: rgb(var(--color-primary)) !important;
    color: var(--color-secondary-contrast) !important;
}
body > .bp3-portal *[style*="rgba(72, 176, 240, 0.5)"] > span::before, body > .bp3-portal *[style*="rgba(72, 176, 240, 0.5)"] * {
    color: var(--color-secondary-contrast) !important;
}
body > .bp3-portal .bp3-menu-divider {
    border-color: rgba(0, 0, 0, 0.2) !important;
}
body > .bp3-portal .bp3-text-small {
    color: rgba(0, 0, 0, 0.5) !important;
}

.emoji-mart {
    border: none !important;
}


/* -------------------------- */
/*      EMBEDDING BLOCKS      */
/* -------------------------- */
.rm-embed-container{
    background-color:var(--page-color) !important;
}


/* -------------------------- */
/*           MISC             */
/* -------------------------- */

/* for when filter is active on page */
.bp3-icon-filter[style*="color"] {
    color: rgb(var(--color-secondary)) !important;
}

/* better caret positioning in linked references */
.bp3-icon-caret-down::before {
    color: var(--bullet-color) !important;
}
.bp3-icon-caret-down {
    display: inline-block !important;
    /*margin-bottom: 8px;*/
    /* fix positioning when rotated 90 deg */
    /*transform-origin: 9px 13px;*/
    
}

/* */
.roam-center > div[style*="width: 100%; height: 100%;"] {
    width: var(--page-width) !important;
}
.roam-center > div[style*="width: 100%; height: 100%;"] > div {
    position: fixed !important;
    top: 0; left: 0;
    width: 100vw !important;
    height: 100vw !important;
}


/* SLIDER */

.bp3-intent-primary {
    background-color: rgb(var(--color-primary)) !important;
}
.bp3-slider-handle {
    border-radius: 10px;
}


/* QUERY */

.rm-query {
  border: 0.5px solid #38332e;
  border-top-left-radius: 7px;
  border-top-right-radius: 7px;
  border-radius: 10px;
}

.rm-query .rm-query-title {
  background-color: #38332e;
  font-size: .8em;
}

/* CHECKBOX */

.check-container {
    padding-right: 2px;
    vertical-align: text-bottom;
    top: -5px;
}

.check-container .checkmark {
    width: 14px;
    height: 14px;
}
.check-container .checkmark::after {
    left: 4.5px;
    top: 1px;
}
.check-container input[checked] + .checkmark {
    background-color: rgb(var(--color-primary)) !important;
}

/* versioning tab underline */
span[style*="border-bottom: 2px solid rgb(138, 155, 168)"] {
    border-bottom: 3px solid rgb(var(--color-primary)) !important;
}

blockquote {
    font-size: 14px;
    border-color: var(--bullet-color);
    opacity: 0.5;
}

code {
    background: var(--bg-color);
    border: none;
    color: var(--text-color);
    padding: 4px 7px;
    line-height: 0.5;
    border-radius: 0;
}

.block-border-left {
    border-color: var(--bullet-color);
  }


/* help button / popup */
#buffer {
    background: transparent !important;
    right: 7px !important;
    bottom: 10px !important;
}
#buffer .bp3-popover-target >.bp3-button {
    background: rgba(0, 0, 0, 0.1);
    height: 30px;
    width: 30px;
}
#buffer > div {
    z-index: 99999 !important;
    background: rgb(var(--color-secondary), 0.7) !important;
    backdrop-filter: blur(5px);
    border-radius: 10px;
    padding: 2px 8px 8px 8px;
    box-shadow: 0px 8px 14px rgba(0, 0, 0, 0.1)
}
#buffer > div .bp3-button::before {
    color: #FFFFFF !important;
    
}
#buffer .help-title {
    color: var(--color-secondary-contrast) !important;
}
#buffer .help-sub-title {
    color: var(--color-secondary-contrast) !important;
    opacity: 0.5;
}
#buffer span {
    color: rgba(255, 255, 255, 0.8) !important;
}
#buffer a {
    text-decoration: underline;
    color: var(--color-secondary-contrast) !important;
}
#buffer a:hover {
    opacity: 0.5;
}


/* ------------- Red Pomodoro ------------- */
/* credit: https://github.com/theianjones/roam-research-themes/blob/master/pomodoros.css */
.rm-pomodoro {
  background: transparent !important;
  color: #ff4747 !important;
  padding: 4px 14px;
  line-height: 2em;
  font-weight: 600;
  border-radius: 2em;
  border: 1px solid #ff474770;
}

.rm-pomodoro::first-letter {
  margin-right: 8px;
}


/* BUTTON */
.block-bullet-view .bp3-button:not([class*="bp3-icon"]) {
    background: transparent !important;
    color: rgb(var(--color-primary)) !important;
    padding: 4px 14px;
    line-height: 2em;
    font-weight: 600;
    border-radius: 2em !important;
    border: 1px solid rgba(var(--color-primary), 0.5) !important;
    box-shadow: none !important;
}
.block-bullet-view .bp3-button:hover {
    background: rgba(var(--color-primary), 0.2) !important;

}

/* KANBAN */
.kanban-board {
    background-color: transparent;
    padding: 0;
    max-width: 500px;
}
.kanban-title {
    background: rgb(var(--color-primary));
    color: var(--color-primary-contrast) !important;
    font-weight: bold;
    padding: 0px !important;
    max-height: 30px;
    border: none;
    display: flex;
    align-items: center;
}
.kanban-title > span {
    display: block;
    margin: auto;
}
.kanban-column {
    border-radius: 10px;
    box-shadow: 0px 8px 14px rgba(0, 0, 0, 0.05);
    padding: 0;
    overflow: hidden;
}
.kanban-card {
    border-radius: 10px;
    box-shadow: 0px 8px 14px rgba(0, 0, 0, 0.05);
}
.kanban-card {
    background-color: var(--page-color);
    margin: 8px;
    box-shadow: 0px 1px 2px #9EB3C0;
    padding: 10px;
    border-radius: 4px;
    line-height: 1.3em;
}
.kanban-column {
    background-color: ;
    margin: 0px 4px 0px 4px;
    min-width: 200px;
    border-radius: 6px;
}

/* ASTROLABE */

/* Breathing Loader */
/* https://codepen.io/Mathi_C/pen/mMWaaW */
.loading-astrolabe {
    height: 100px;
    width: 100px;
    border-radius: 200px;
    margin: auto;
    
}

.loading-astrolabe {
    animation-name: orb_1;
    animation-duration: 3s;
    animation-delay: 0s;
    animation-iteration-count: infinite;
    animation-timing-function: ease-in-out;
    animation-direction: alternate;
}

@keyframes orb_1 {
    from {
        transform: scale(0.2);
        background: rgb(var(--color-secondary));
    }
    to {
        transform: scale(2);
        background: rgb(var(--color-primary));
    }
}

/* Hide original loader */
.loading-astrolabe img {
    display: none;
}

.bp3-spinner {
    visibility: hidden;
}
.bp3-spinner > * {
    visibility: visible;
}

.bp3-spinner-head {
    stroke: rgb(var(--color-primary)) !important;
}








.roam-center > div > div > div svg :not(.katex) {
    background-color: var(--bg-color) !important;
}

/* fix specific popover sizes and positions... */
/*
.roam-topbar .bp3-popover-wrapper:nth-child(6) .bp3-popover,
.roam-topbar .bp3-popover-wrapper:nth-child(7) .bp3-popover{
    width: 600px;
    max-width: calc(100vw - 20px);
}
#roam-right-sidebar-content > div .flex-h-box > .bp3-popover-wrapper .bp3-transition-container {
    transform: translate3d(-15px, 41px, 0px) !important;
}
#roam-right-sidebar-content > div .flex-h-box > .bp3-popover-wrapper .bp3-transition-container .bp3-popover-arrow {
    left: 10px !important;
}
*/
/* -------------------------- */
/*         MOBILE             */
/* -------------------------- */



@media only screen and (max-width: 600px) {
    .roam-topbar {
        margin: 0px !important;
        padding: 10px 0px 0px 0px !important;
        width: 100%;
        justify-content: center;
        position: fixed !important;
        top: 0px;
        left: 0px;
        backdrop-filter: blur(5px);
    }
    .roam-topbar::before {
        content: "";
        position: absolute;
        top: 0; left: 0;
        width: 100%; height: 100%;
        background-color: var(--bg-color) !important;
        opacity: 0.7;
        
    }
    .roam-topbar > .flex-h-box {
        flex-direction: row;
        height: 1px !important;
        align-items: start !important;
        text-align: center;

        /*position: -webkit-sticky !important;
        position: fixed !important;
        left: 0px;
        top: 0;*/
        position: relative !important;
        width: 300px !important;
        margin: auto;
        justify-content: space-evenly;
    }
    .roam-topbar > div >.bp3-button:first-child {
        position: static !important;
    }
    
    .roam-sidebar-container {
        padding-right: 0;
        width: 232px !important;
    }
    .roam-sidebar-container > .roam-sidebar-content::before {
        right: 0px !important;
    }
    
    .roam-body-main {
        padding-left: 0 !important;
    }
    
    #find-or-create-input {
        max-width: calc(100% - 20px);
        left: 10px !important;
    }
    
    .roam-article,
    .rm-all-pages > .table,
    .rm-all-pages > .table > div {
        max-width: calc(100vw - 20px) !important;
        min-width: calc(100vw - 20px) !important;
        width: calc(100vw - 20px) !important;
    }
    .rm-all-pages > .table {
        margin-left: 10px;
        margin-right: 10px;
    }
    .roam-article {
        margin: 50px 10px !important;
        margin-bottom: 100px !important;
    }
    .roam-article > div {
        padding: 30px 30px 30px 20px;
    }
    
    
    #roam-right-sidebar-content > div > *{
        max-width: calc(100vw - 20px) !important;
    }
    /* position minus button */
    #roam-right-sidebar-content > div .bp3-icon-minus, #roam-right-sidebar-content > div .bp3-icon-plus {
        top: 60px;
    }
    /* position filter button */
    #roam-right-sidebar-content > div .bp3-icon-minus ~ .bp3-popover-wrapper {
        top: 60px;
    }
    /* position references button */
    #roam-right-sidebar-content > div .bp3-icon-minus ~ button.bp3-button {
        top: 60px;
    }
    /* position close button */
    #roam-right-sidebar-content > div .bp3-icon-minus ~ .bp3-button.bp3-icon-cross {
        top: 60px;
    }
    
    .rm-title-display, .rm-title-textarea {
        margin-left: 0 !important;
    }
    #roam-right-sidebar-content > div .bp3-icon-minus + * {
            margin: 30px 10px 5px 30px !important;
    }
    
    .roam-topbar > div > *:nth-child(2) {
        margin-top: 0 !important;
    }
    
    #right-sidebar {
        padding-right: 10px !important;
    }
    
    .rm-find-or-create-wrapper .bp3-transition-container {
        position: fixed !important;
        max-width: calc(100vw - 20px);
        top: 142px !important;
        left: 10px !important;
    }
}

#mobile-capture {
    height: 100vh !important;
    background-color: var(--bg-color) !important;
}

#mobile-capture textarea, #mobile-capture input {
    background-color: var(--page-color) !important;
}
#mobile-capture textarea::placeholder, #mobile-capture input::placeholder {
    color: var(--text-color) !important;
    opacity: 0.3
}
#mobile-capture textarea {
    margin-top: 10px;
}

#rm-mobile-bar {
    max-width: 100vw;
    background-color: rgb(var(--color-secondary)) !important;
    position: fixed !important;
    z-index: 999999;
}
#rm-mobile-bar .bp3-button {
    vertical-align: top;
    margin: 5px 0px !important;
    
}
#rm-mobile-bar .bp3-button::before, #rm-mobile-bar .bp3-button i::before {
    color: var(--color-secondary-contrast) !important;
}


.rm-find-or-create-wrapper .bp3-transition-container {
    transform: none !important;
}

#right-sidebar {
    background: white !important;
    border: 1px solid var(--subtle-border-color) !important;
    border-radius: 12px;
  	margin-right: 12px;
}
